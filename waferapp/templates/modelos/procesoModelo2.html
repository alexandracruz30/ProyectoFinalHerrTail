<!DOCTYPE html>
<html lang="es">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Arquitectura CNN - Estilo Técnico Mejorado</title>
    <script src="https://cdn.tailwindcss.com"></script>
    <style>
        .layer-3d {
            transform-style: preserve-3d;
            perspective: 1000px;
        }
        
        .feature-map {
            position: relative;
            display: inline-block;
            margin: 2px;
        }
        
        .feature-map::before {
            content: '';
            position: absolute;
            top: -2px;
            left: -2px;
            width: 100%;
            height: 100%;
            background: inherit;
            opacity: 0.3;
            z-index: -1;
            border-radius: inherit;
        }
        
        .pooling-overlay {
            position: absolute;
            top: 0;
            left: 0;
            right: 0;
            bottom: 0;
            background: rgba(34, 197, 94, 0.2);
            border: 2px dashed #22c55e;
            border-radius: 4px;
            display: flex;
            align-items: center;
            justify-content: center;
            font-size: 10px;
            font-weight: bold;
            color: #059669;
        }
        
        .neuron {
            background: radial-gradient(circle at 30% 30%, #a855f7, #7c3aed);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2), inset 0 1px 2px rgba(255,255,255,0.3);
        }
        
        .output-neuron {
            background: radial-gradient(circle at 30% 30%, #ef4444, #dc2626);
            box-shadow: 0 2px 4px rgba(0,0,0,0.2), inset 0 1px 2px rgba(255,255,255,0.3);
        }
        
        @keyframes pulse {
            0%, 100% { transform: scale(1); }
            50% { transform: scale(1.05); }
        }
        
        .layer-container:hover .feature-map {
            animation: pulse 2s infinite;
        }
        
        .arrow {
            font-size: 2rem;
            color: #6b7280;
            transition: all 0.3s ease;
        }
        
        .arrow:hover {
            color: #3b82f6;
            transform: scale(1.1);
        }
        
        .dimension-label {
            font-size: 9px;
            color: #6b7280;
            background: rgba(255,255,255,0.9);
            padding: 1px 4px;
            border-radius: 2px;
            position: absolute;
            top: -8px;
            left: 50%;
            transform: translateX(-50%);
            white-space: nowrap;
        }
        
        .dark .dimension-label {
            background: rgba(31,41,55,0.9);
            color: #d1d5db;
        }
    </style>
</head>
<body class="bg-gray-100 dark:bg-gray-900">
    <main class="min-h-screen py-8">
        <div class="max-w-[1600px] mx-auto bg-white dark:bg-gray-800 rounded-xl p-8 shadow-lg">
            <h1 class="text-3xl md:text-4xl font-bold text-center text-[#2c3e50] dark:text-white mb-10">
                Arquitectura CNN - Clasificación de Imágenes
            </h1>
            
            <div class="flex items-center justify-between gap-4 overflow-x-auto py-8">
                <!-- Input Layer -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-gray-100 dark:bg-gray-700 px-3 py-1 rounded-full">
                        Input Layer
                    </div>
                    <div class="relative">
                        <div class="w-32 h-32 bg-gradient-to-br from-[#34495e] to-[#2c3e50] rounded-lg flex items-center justify-center text-white font-bold text-xs text-center shadow-lg overflow-hidden border-2 border-gray-300">
                            <div class="w-full h-full bg-gradient-to-br from-blue-400 via-green-400 to-yellow-400 opacity-80 flex items-center justify-center">
                                <span class="text-white font-bold text-xs">224×224×3</span>
                            </div>
                        </div>
                        <div class="dimension-label">RGB Image</div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        Width: 224<br>Height: 224<br>Channels: 3
                    </div>
                </div>
                
                <div class="arrow">→</div>
                
                <!-- Conv_1 + Max-Pooling -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-blue-100 dark:bg-blue-900 px-3 py-1 rounded-full">
                        Conv Block 1
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mb-3 text-center">
                        Conv2D(32, 3×3)<br>ReLU → MaxPool2D(2×2)
                    </div>
                    <div class="relative">
                        <div class="grid grid-cols-4 gap-1">
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-500 rounded shadow-md"></div>
                            <div class="feature-map w-7 h-7 bg-blue-400 rounded shadow-md"></div>
                        </div>
                        <div class="pooling-overlay">MP</div>
                        <div class="dimension-label">112×112×32</div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        32 Feature Maps<br>After Pooling
                    </div>
                </div>
                
                <div class="arrow">→</div>
                
                <!-- Conv_2 + Max-Pooling -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-red-100 dark:bg-red-900 px-3 py-1 rounded-full">
                        Conv Block 2
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mb-3 text-center">
                        Conv2D(64, 3×3)<br>ReLU → MaxPool2D(2×2)
                    </div>
                    <div class="relative">
                        <div class="grid grid-cols-3 gap-1">
                            <div class="feature-map w-6 h-6 bg-red-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-red-400 rounded shadow-md"></div>
                        </div>
                        <div class="pooling-overlay">MP</div>
                        <div class="dimension-label">56×56×64</div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        64 Feature Maps<br>After Pooling
                    </div>
                </div>
                
                <div class="arrow">→</div>
                
                <!-- Conv_3 (Sin Max-Pooling) -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-yellow-100 dark:bg-yellow-900 px-3 py-1 rounded-full">
                        Conv Block 3
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mb-3 text-center">
                        Conv2D(64, 3×3)<br>ReLU (No Pooling)
                    </div>
                    <div class="relative">
                        <div class="grid grid-cols-3 gap-1">
                            <div class="feature-map w-6 h-6 bg-yellow-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-400 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-500 rounded shadow-md"></div>
                            <div class="feature-map w-6 h-6 bg-yellow-400 rounded shadow-md"></div>
                        </div>
                        <div class="dimension-label">56×56×64</div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        64 Feature Maps<br>Same Size
                    </div>
                </div>
                
                <div class="arrow">→</div>
                
                <!-- Flatten -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-orange-100 dark:bg-orange-900 px-3 py-1 rounded-full">
                        Flatten
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mb-3 text-center">
                        Reshape to 1D<br>56×56×64 → 200704
                    </div>
                    <div class="relative">
                        <div class="w-16 h-32 bg-gradient-to-b from-yellow-400 to-orange-500 rounded-lg flex items-center justify-center text-white font-bold text-xs text-center shadow-lg">
                            <div class="transform rotate-90 whitespace-nowrap">200704</div>
                        </div>
                        <div class="dimension-label">Vector 1D</div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        200704 valores
                    </div>
                </div>
                
                <div class="arrow">→</div>
                
                <!-- Dense Layer -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-purple-100 dark:bg-purple-900 px-3 py-1 rounded-full">
                        Dense Layer
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mb-3 text-center">
                        Fully Connected<br>ReLU Activation
                    </div>
                    <div class="flex flex-col gap-2 items-center">
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="text-xs text-gray-400">⋮</div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                        <div class="neuron w-4 h-4 rounded-full"></div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        64 neuronas
                    </div>
                </div>
                
                <div class="arrow">→</div>
                
                <!-- Output Layer -->
                <div class="flex flex-col items-center layer-container">
                    <div class="font-bold text-sm text-[#34495e] dark:text-white mb-2 bg-red-100 dark:bg-red-900 px-3 py-1 rounded-full">
                        Output Layer
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mb-3 text-center">
                        Softmax Activation<br>Classification
                    </div>
                    <div class="flex flex-col gap-1 items-center">
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C1</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C2</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C3</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C4</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C5</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C6</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C7</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C8</div>
                        <div class="output-neuron w-10 h-5 rounded-full flex items-center justify-center text-white text-xs font-bold">C9</div>
                    </div>
                    <div class="text-xs text-gray-600 dark:text-gray-400 mt-2 text-center">
                        9 clases<br>Probabilidades
                    </div>
                </div>
            </div>
            
            <!-- Información Técnica Detallada -->
            <div class="mt-12 grid grid-cols-1 md:grid-cols-2 gap-8">
                <!-- Especificaciones del Modelo -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-6">
                    <h3 class="text-xl font-bold text-[#2c3e50] dark:text-white mb-6 flex items-center">
                        <span class="text-2xl mr-2">🧠</span>
                        Arquitectura del Modelo
                    </h3>
                    <div class="space-y-4">
                        <div class="flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded">
                            <span class="font-semibold text-gray-700 dark:text-gray-300">Capas Convolucionales</span>
                            <span class="text-blue-600 dark:text-blue-400 font-bold">3</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded">
                            <span class="font-semibold text-gray-700 dark:text-gray-300">Filtros por Capa</span>
                            <span class="text-blue-600 dark:text-blue-400 font-bold">32 → 64 → 64</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded">
                            <span class="font-semibold text-gray-700 dark:text-gray-300">Kernel Size</span>
                            <span class="text-blue-600 dark:text-blue-400 font-bold">3×3</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded">
                            <span class="font-semibold text-gray-700 dark:text-gray-300">Max Pooling</span>
                            <span class="text-green-600 dark:text-green-400 font-bold">2×2 (2 capas)</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded">
                            <span class="font-semibold text-gray-700 dark:text-gray-300">Capas Densas</span>
                            <span class="text-purple-600 dark:text-purple-400 font-bold">2</span>
                        </div>
                        <div class="flex justify-between items-center p-3 bg-white dark:bg-gray-800 rounded">
                            <span class="font-semibold text-gray-700 dark:text-gray-300">Clases de Salida</span>
                            <span class="text-red-600 dark:text-red-400 font-bold">9</span>
                        </div>
                    </div>
                </div>
                
                <!-- Flujo de Dimensiones -->
                <div class="bg-gray-50 dark:bg-gray-700 rounded-lg p-6">
                    <h3 class="text-xl font-bold text-[#2c3e50] dark:text-white mb-6 flex items-center">
                        <span class="text-2xl mr-2">📐</span>
                        Transformación de Dimensiones
                    </h3>
                    <div class="space-y-3">
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Input</span>
                            <span class="text-blue-600 dark:text-blue-400 font-mono">224×224×3</span>
                        </div>
                        <div class="flex items-center justify-center">
                            <div class="w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-400"></div>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Conv1 + Pool</span>
                            <span class="text-blue-600 dark:text-blue-400 font-mono">112×112×32</span>
                        </div>
                        <div class="flex items-center justify-center">
                            <div class="w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-400"></div>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Conv2 + Pool</span>
                            <span class="text-red-600 dark:text-red-400 font-mono">56×56×64</span>
                        </div>
                        <div class="flex items-center justify-center">
                            <div class="w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-400"></div>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Conv3</span>
                            <span class="text-yellow-600 dark:text-yellow-400 font-mono">56×56×64</span>
                        </div>
                        <div class="flex items-center justify-center">
                            <div class="w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-400"></div>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Flatten</span>
                            <span class="text-orange-600 dark:text-orange-400 font-mono">200704</span>
                        </div>
                        <div class="flex items-center justify-center">
                            <div class="w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-400"></div>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Dense</span>
                            <span class="text-purple-600 dark:text-purple-400 font-mono">64</span>
                        </div>
                        <div class="flex items-center justify-center">
                            <div class="w-0 h-0 border-l-4 border-r-4 border-b-4 border-transparent border-b-gray-400"></div>
                        </div>
                        <div class="flex items-center justify-between p-2 bg-white dark:bg-gray-800 rounded text-sm">
                            <span class="font-medium text-gray-700 dark:text-gray-300">Output</span>
                            <span class="text-red-600 dark:text-red-400 font-mono">9</span>
                        </div>
                    </div>
                </div>
            </div>
        </div>
    </main>
</body>
</html>